"use strict";var _createClass=function(){function a(b,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(b,d.key,d)}}return function(d,b,c){return b&&a(d.prototype,b),c&&a(d,c),d}}();function _possibleConstructorReturn(a,b){if(!a){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !b||"object"!=typeof b&&"function"!=typeof b?a:b}function _inherits(a,b){if("function"!=typeof b&&null!==b){throw new TypeError("Super expression must either be null or a function, not "+typeof b)}a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}var Emitter=function(){function a(){_classCallCheck(this,a)}return _createClass(a,[{key:"on",value:function(b,c){return this._callbacks=this._callbacks||{},this._callbacks[b]||(this._callbacks[b]=[]),this._callbacks[b].push(c),this}},{key:"emit",value:function(c){this._callbacks=this._callbacks||{};var j=this._callbacks[c];if(j){for(var d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++){f[h-1]=arguments[h]}for(var g=0,b=b=j;;){if(g>=b.length){break}b[g++].apply(this,f)}}return this}},{key:"off",value:function(b,f){if(!this._callbacks||0===arguments.length){return this._callbacks={},this}var c=this._callbacks[b];if(!c){return this}if(1===arguments.length){return delete this._callbacks[b],this}for(var d=0;d<c.length;d++){if(c[d]===f){c.splice(d,1);break}}return this}}]),a}(),Dropzone=function(a){function b(d,f){_classCallCheck(this,b);var g,j=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this)),h=void 0;if(j.element=d,j.version=b.version,j.defaultOptions.previewTemplate=j.defaultOptions.previewTemplate.replace(/\n*/g,""),j.clickableElements=[],j.listeners=[],j.files=[],"string"==typeof j.element&&(j.element=document.querySelector(j.element)),!j.element||null==j.element.nodeType){throw new Error("Invalid dropzone element.")}if(j.element.dropzone){throw new Error("Dropzone already attached.")}b.instances.push(j),j.element.dropzone=j;var c,k=null!=(g=b.optionsForElement(j.element))?g:{};if(j.options=b.extend({},j.defaultOptions,k,null!=f?f:{}),j.options.forceFallback||!b.isBrowserSupported()){return c=j.options.fallback.call(j),_possibleConstructorReturn(j,c)}if(null==j.options.url&&(j.options.url=j.element.getAttribute("action")),!j.options.url){throw new Error("No URL provided.")}if(j.options.acceptedFiles&&j.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(j.options.uploadMultiple&&j.options.chunking){throw new Error("You cannot set both: uploadMultiple and chunking.")}return j.options.acceptedMimeTypes&&(j.options.acceptedFiles=j.options.acceptedMimeTypes,delete j.options.acceptedMimeTypes),null!=j.options.renameFilename&&(j.options.renameFile=function(i){return j.options.renameFilename.call(j,i.name,i)}),j.options.method=j.options.method.toUpperCase(),(h=j.getExistingFallback())&&h.parentNode&&h.parentNode.removeChild(h),!1!==j.options.previewsContainer&&(j.options.previewsContainer?j.previewsContainer=b.getElement(j.options.previewsContainer,"previewsContainer"):j.previewsContainer=j.element),j.options.clickable&&(!0===j.options.clickable?j.clickableElements=[j.element]:j.clickableElements=b.getElements(j.options.clickable,"clickable")),j.init(),j}return _inherits(b,Emitter),_createClass(b,null,[{key:"initClass",value:function(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:30000,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2000000,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:"contain",filesizeBase:1000,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(c,f,d){if(d){return{dzuuid:d.file.upload.uuid,dzchunkindex:d.index,dztotalfilesize:d.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:d.file.upload.totalChunkCount,dzchunkbyteoffset:d.index*this.options.chunkSize}}},accept:function(c,d){return d()},chunksUploaded:function(c,d){d()},fallback:function(){var c=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var d=0,f=f=this.element.getElementsByTagName("div");;){if(d>=f.length){break}var h=f[d++];if(/(^| )dz-message($| )/.test(h.className)){c=h,h.className="dz-message";break}}c||(c=b.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c));var g=c.getElementsByTagName("span")[0];return g&&(null!=g.textContent?g.textContent=this.options.dictFallbackMessage:null!=g.innerText&&(g.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(d,k,f,g){var j={srcX:0,srcY:0,srcWidth:d.width,srcHeight:d.height},h=d.width/d.height;null==k&&null==f?(k=j.srcWidth,f=j.srcHeight):null==k?k=f*h:null==f&&(f=k/h);var c=(k=Math.min(k,j.srcWidth))/(f=Math.min(f,j.srcHeight));if(j.srcWidth>k||j.srcHeight>f){if("crop"===g){h>c?(j.srcHeight=d.height,j.srcWidth=j.srcHeight*c):(j.srcWidth=d.width,j.srcHeight=j.srcWidth/c)}else{if("contain"!==g){throw new Error("Unknown resizeMethod '"+g+"'")}h>c?f=k/h:k=f*h}}return j.srcX=(d.width-j.srcWidth)/2,j.srcY=(d.height-j.srcHeight)/2,j.trgWidth=k,j.trgHeight=f,j},transformFile:function(c,d){return(this.options.resizeWidth||this.options.resizeHeight)&&c.type.match(/image.*/)?this.resizeImage(c,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,d):d(c)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(c){return this.element.classList.remove("dz-drag-hover")},dragstart:function(c){},dragend:function(c){return this.element.classList.remove("dz-drag-hover")},dragenter:function(c){return this.element.classList.add("dz-drag-hover")},dragover:function(c){return this.element.classList.add("dz-drag-hover")},dragleave:function(c){return this.element.classList.remove("dz-drag-hover")},paste:function(c){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(g){var h=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){g.previewElement=b.createElement(this.options.previewTemplate.trim()),g.previewTemplate=g.previewElement,this.previewsContainer.appendChild(g.previewElement);for(var k=0,p=p=g.previewElement.querySelectorAll("[data-dz-name]");;){if(k>=p.length){break}var m=p[k++];m.textContent=g.name}for(var c=0,q=q=g.previewElement.querySelectorAll("[data-dz-size]");!(c>=q.length);){(m=q[c++]).innerHTML=this.filesize(g.size)}this.options.addRemoveLinks&&(g._removeLink=b.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),g.previewElement.appendChild(g._removeLink));for(var j=function(d){return d.preventDefault(),d.stopPropagation(),g.status===b.UPLOADING?b.confirm(h.options.dictCancelUploadConfirmation,function(){return h.removeFile(g)}):h.options.dictRemoveFileConfirmation?b.confirm(h.options.dictRemoveFileConfirmation,function(){return h.removeFile(g)}):h.removeFile(g)},t=0,f=f=g.previewElement.querySelectorAll("[data-dz-remove]");;){if(t>=f.length){break}f[t++].addEventListener("click",j)}}},removedfile:function(c){return null!=c.previewElement&&null!=c.previewElement.parentNode&&c.previewElement.parentNode.removeChild(c.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(c,h){if(c.previewElement){c.previewElement.classList.remove("dz-file-preview");for(var d=0,f=f=c.previewElement.querySelectorAll("[data-dz-thumbnail]");;){if(d>=f.length){break}var g=f[d++];g.alt=c.name,g.src=h}return setTimeout(function(){return c.previewElement.classList.add("dz-image-preview")},1)}},error:function(c,g){if(c.previewElement){c.previewElement.classList.add("dz-error"),"String"!=typeof g&&g.error&&(g=g.error);for(var d=0,f=f=c.previewElement.querySelectorAll("[data-dz-errormessage]");;){if(d>=f.length){break}f[d++].textContent=g}}},errormultiple:function(){},processing:function(c){if(c.previewElement&&(c.previewElement.classList.add("dz-processing"),c._removeLink)){return c._removeLink.innerHTML=this.options.dictCancelUpload}},processingmultiple:function(){},uploadprogress:function(c,j,d){if(c.previewElement){for(var f=0,h=h=c.previewElement.querySelectorAll("[data-dz-uploadprogress]");;){if(f>=h.length){break}var g=h[f++];"PROGRESS"===g.nodeName?g.value=j:g.style.width=j+"%"}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(c){if(c.previewElement){return c.previewElement.classList.add("dz-success")}},successmultiple:function(){},canceled:function(c){return this.emit("error",c,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(c){if(c._removeLink&&(c._removeLink.innerHTML=this.options.dictRemoveFile),c.previewElement){return c.previewElement.classList.add("dz-complete")}},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(d){for(var p=arguments.length,f=Array(p>1?p-1:0),h=1;h<p;h++){f[h-1]=arguments[h]}for(var k=0,j=j=f;;){if(k>=j.length){break}var c=j[k++];for(var m in c){var g=c[m];d[m]=g}}return d}}]),_createClass(b,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(c){return c.accepted}).map(function(c){return c})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(c){return !c.accepted}).map(function(c){return c})}},{key:"getFilesWithStatus",value:function(c){return this.files.filter(function(d){return d.status===c}).map(function(d){return d})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(b.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(b.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(b.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(c){return c.status===b.UPLOADING||c.status===b.QUEUED}).map(function(c){return c})}},{key:"init",value:function(){var c=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(b.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length){!function d(){return c.hiddenFileInput&&c.hiddenFileInput.parentNode.removeChild(c.hiddenFileInput),c.hiddenFileInput=document.createElement("input"),c.hiddenFileInput.setAttribute("type","file"),(null===c.options.maxFiles||c.options.maxFiles>1)&&c.hiddenFileInput.setAttribute("multiple","multiple"),c.hiddenFileInput.className="dz-hidden-input",null!==c.options.acceptedFiles&&c.hiddenFileInput.setAttribute("accept",c.options.acceptedFiles),null!==c.options.capture&&c.hiddenFileInput.setAttribute("capture",c.options.capture),c.hiddenFileInput.style.visibility="hidden",c.hiddenFileInput.style.position="absolute",c.hiddenFileInput.style.top="0",c.hiddenFileInput.style.left="0",c.hiddenFileInput.style.height="0",c.hiddenFileInput.style.width="0",b.getElement(c.options.hiddenInputContainer,"hiddenInputContainer").appendChild(c.hiddenFileInput),c.hiddenFileInput.addEventListener("change",function(){var k=c.hiddenFileInput.files;if(k.length){for(var e=0,j=j=k;!(e>=j.length);){var i=j[e++];c.addFile(i)}}return c.emit("addedfiles",k),d()})}()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(var d=0,f=f=this.events;;){if(d>=f.length){break}var h=f[d++];this.on(h,this.options[h])}this.on("uploadprogress",function(){return c.updateTotalUploadProgress()}),this.on("removedfile",function(){return c.updateTotalUploadProgress()}),this.on("canceled",function(e){return c.emit("complete",e)}),this.on("complete",function(e){if(0===c.getAddedFiles().length&&0===c.getUploadingFiles().length&&0===c.getQueuedFiles().length){return setTimeout(function(){return c.emit("queuecomplete")},0)}});var g=function(i){return i.stopPropagation(),i.preventDefault?i.preventDefault():i.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return c.emit("dragstart",e)},dragenter:function(e){return g(e),c.emit("dragenter",e)},dragover:function(l){var k=void 0;try{k=l.dataTransfer.effectAllowed}catch(j){}return l.dataTransfer.dropEffect="move"===k||"linkMove"===k?"move":"copy",g(l),j.emit("dragover",l)},dragleave:function(e){return c.emit("dragleave",e)},drop:function(e){return g(e),c.drop(e)},dragend:function(e){return c.emit("dragend",e)}}}],this.clickableElements.forEach(function(e){return c.listeners.push({element:e,events:{click:function(i){return(e!==c.element||i.target===c.element||b.elementInside(i.target,c.element.querySelector(".dz-message")))&&c.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,b.instances.splice(b.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var c=void 0,j=0,d=0;if(this.getActiveFiles().length){for(var f=0,h=h=this.getActiveFiles();;){if(f>=h.length){break}var g=h[f++];j+=g.upload.bytesSent,d+=g.upload.total}c=100*j/d}else{c=100}return this.emit("totaluploadprogress",c,d,j)}},{key:"_getParamName",value:function(c){return"function"==typeof this.options.paramName?this.options.paramName(c):this.options.paramName+(this.options.uploadMultiple?"["+c+"]":"")}},{key:"_renameFile",value:function(c){return"function"!=typeof this.options.renameFile?c.name:this.options.renameFile(c)}},{key:"getFallbackForm",value:function(){var c,d=void 0;if(c=this.getExistingFallback()){return c}var f='<div class="dz-fallback">';this.options.dictFallbackText&&(f+="<p>"+this.options.dictFallbackText+"</p>"),f+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';var g=b.createElement(f);return"FORM"!==this.element.tagName?(d=b.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(g):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=d?d:g}},{key:"getExistingFallback",value:function(){for(var c=function(j){for(var m=0,k=k=j;;){if(m>=k.length){break}var l=k[m++];if(/(^| )fallback($| )/.test(l.className)){return l}}},h=["div","form"],d=0;d<h.length;d++){var f,g=h[d];if(f=c(this.element.getElementsByTagName(g))){return f}}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(c){return function(){var f=[];for(var d in c.events){var e=c.events[d];f.push(c.element.addEventListener(d,e,!1))}return f}()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(c){return function(){var f=[];for(var d in c.events){var e=c.events[d];f.push(c.element.removeEventListener(d,e,!1))}return f}()})}},{key:"disable",value:function(){var c=this;return this.clickableElements.forEach(function(d){return d.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(d){return c.cancelUpload(d)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(c){return c.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(c){var j=0,d="b";if(c>0){for(var f=["tb","gb","mb","kb","b"],h=0;h<f.length;h++){var g=f[h];if(c>=Math.pow(this.options.filesizeBase,4-h)/10){j=c/Math.pow(this.options.filesizeBase,4-h),d=g;break}}j=Math.round(10*j)/10}return"<strong>"+j+"</strong> "+this.options.dictFileSizeUnits[d]}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(c){if(c.dataTransfer){this.emit("drop",c);for(var g=[],d=0;d<c.dataTransfer.files.length;d++){g[d]=c.dataTransfer.files[d]}if(this.emit("addedfiles",g),g.length){var f=c.dataTransfer.items;f&&f.length&&null!=f[0].webkitGetAsEntry?this._addFilesFromItems(f):this.handleFiles(g)}}}},{key:"paste",value:function(c){if(null!=__guard__(null!=c?c.clipboardData:void 0,function(f){return f.items})){this.emit("paste",c);var d=c.clipboardData.items;return d.length?this._addFilesFromItems(d):void 0}}},{key:"handleFiles",value:function(c){for(var g=0,d=d=c;;){if(g>=d.length){break}var f=d[g++];this.addFile(f)}}},{key:"_addFilesFromItems",value:function(c){var d=this;return function(){for(var f=[],g=0,j=j=c;;){if(g>=j.length){break}var h,e=j[g++];null!=e.webkitGetAsEntry&&(h=e.webkitGetAsEntry())?h.isFile?f.push(d.addFile(e.getAsFile())):h.isDirectory?f.push(d._addFilesFromDirectory(h,h.name)):f.push(void 0):null!=e.getAsFile&&(null==e.kind||"file"===e.kind)?f.push(d.addFile(e.getAsFile())):f.push(void 0)}return f}()}},{key:"_addFilesFromDirectory",value:function(c,h){var d=this,f=c.createReader(),g=function(i){return __guardMethod__(console,"log",function(e){return e.log(i)})};return function c(){return f.readEntries(function(i){if(i.length>0){for(var k=0,j=j=i;!(k>=j.length);){var e=j[k++];e.isFile?e.file(function(l){if(!d.options.ignoreHiddenFiles||"."!==l.name.substring(0,1)){return l.fullPath=h+"/"+l.name,d.addFile(l)}}):e.isDirectory&&d._addFilesFromDirectory(e,h+"/"+e.name)}c()}return null},g)}()}},{key:"accept",value:function(c,d){return this.options.maxFilesize&&c.size>1024*this.options.maxFilesize*1024?d(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(c.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):b.isValidFile(c,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(d(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",c)):this.options.accept.call(this,c,d):d(this.options.dictInvalidFileType)}},{key:"addFile",value:function(c){var d=this;return c.upload={uuid:b.uuidv4(),progress:0,total:c.size,bytesSent:0,filename:this._renameFile(c),chunked:this.options.chunking&&(this.options.forceChunking||c.size>this.options.chunkSize),totalChunkCount:Math.ceil(c.size/this.options.chunkSize)},this.files.push(c),c.status=b.ADDED,this.emit("addedfile",c),this._enqueueThumbnail(c),this.accept(c,function(e){return e?(c.accepted=!1,d._errorProcessing([c],e)):(c.accepted=!0,d.options.autoQueue&&d.enqueueFile(c)),d._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(c){for(var g=0,d=d=c;;){if(g>=d.length){break}var f=d[g++];this.enqueueFile(f)}return null}},{key:"enqueueFile",value:function(c){var d=this;if(c.status!==b.ADDED||!0!==c.accepted){throw new Error("This file can't be queued because it has already been processed or was rejected.")}if(c.status=b.QUEUED,this.options.autoProcessQueue){return setTimeout(function(){return d.processQueue()},0)}}},{key:"_enqueueThumbnail",value:function(c){var d=this;if(this.options.createImageThumbnails&&c.type.match(/image.*/)&&c.size<=1024*this.options.maxThumbnailFilesize*1024){return this._thumbnailQueue.push(c),setTimeout(function(){return d._processThumbnailQueue()},0)}}},{key:"_processThumbnailQueue",value:function(){var c=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var d=this._thumbnailQueue.shift();return this.createThumbnail(d,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return c.emit("thumbnail",d,e),c._processingThumbnail=!1,c._processThumbnailQueue()})}}},{key:"removeFile",value:function(c){if(c.status===b.UPLOADING&&this.cancelUpload(c),this.files=without(this.files,c),this.emit("removedfile",c),0===this.files.length){return this.emit("reset")}}},{key:"removeAllFiles",value:function(c){null==c&&(c=!1);for(var d=0,f=f=this.files.slice();;){if(d>=f.length){break}var g=f[d++];(g.status!==b.UPLOADING||c)&&this.removeFile(g)}return null}},{key:"resizeImage",value:function(d,f,g,j,h){var c=this;return this.createThumbnail(d,f,g,j,!0,function(e,k){if(null==k){return h(d)}var l=c.options.resizeMimeType;null==l&&(l=d.type);var m=k.toDataURL(l,c.options.resizeQuality);return"image/jpeg"!==l&&"image/jpg"!==l||(m=ExifRestore.restore(d.dataURL,m)),h(b.dataURItoBlob(m))})}},{key:"createThumbnail",value:function(d,l,f,g,j,h){var c=this,k=new FileReader;return k.onload=function(){if(d.dataURL=k.result,"image/svg+xml"!==d.type){return c.createThumbnailFromUrl(d,l,f,g,j,h)}null!=h&&h(k.result)},k.readAsDataURL(d)}},{key:"createThumbnailFromUrl",value:function(d,p,f,h,k,j,c){var m=this,g=document.createElement("img");return c&&(g.crossOrigin=c),g.onload=function(){var e=function(i){return i(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&k&&(e=function(i){return EXIF.getData(g,function(){return i(EXIF.getTag(this,"Orientation"))})}),e(function(o){d.width=g.width,d.height=g.height;var i=m.options.resize.call(m,d,p,f,h),q=document.createElement("canvas"),n=q.getContext("2d");switch(q.width=i.trgWidth,q.height=i.trgHeight,o>4&&(q.width=i.trgHeight,q.height=i.trgWidth),o){case 2:n.translate(q.width,0),n.scale(-1,1);break;case 3:n.translate(q.width,q.height),n.rotate(Math.PI);break;case 4:n.translate(0,q.height),n.scale(1,-1);break;case 5:n.rotate(0.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(0.5*Math.PI),n.translate(0,-q.width);break;case 7:n.rotate(0.5*Math.PI),n.translate(q.height,-q.width),n.scale(-1,1);break;case 8:n.rotate(-0.5*Math.PI),n.translate(-q.height,0)}drawImageIOSFix(n,g,null!=i.srcX?i.srcX:0,null!=i.srcY?i.srcY:0,i.srcWidth,i.srcHeight,null!=i.trgX?i.trgX:0,null!=i.trgY?i.trgY:0,i.trgWidth,i.trgHeight);var l=q.toDataURL("image/png");if(null!=j){return j(l,q)}})},null!=j&&(g.onerror=j),g.src=d.dataURL}},{key:"processQueue",value:function(){var c=this.options.parallelUploads,g=this.getUploadingFiles().length,d=g;if(!(g>=c)){var f=this.getQueuedFiles();if(f.length>0){if(this.options.uploadMultiple){return this.processFiles(f.slice(0,c-g))}for(;d<c;){if(!f.length){return}this.processFile(f.shift()),d++}}}}},{key:"processFile",value:function(c){return this.processFiles([c])}},{key:"processFiles",value:function(c){for(var d=0,f=f=c;;){if(d>=f.length){break}var g=f[d++];g.processing=!0,g.status=b.UPLOADING,this.emit("processing",g)}return this.options.uploadMultiple&&this.emit("processingmultiple",c),this.uploadFiles(c)}},{key:"_getFilesWithXhr",value:function(c){return this.files.filter(function(d){return d.xhr===c}).map(function(d){return d})}},{key:"cancelUpload",value:function(d){if(d.status===b.UPLOADING){for(var f=this._getFilesWithXhr(d.xhr),g=0,j=j=f;;){if(g>=j.length){break}j[g++].status=b.CANCELED}void 0!==d.xhr&&d.xhr.abort();for(var h=0,c=c=f;;){if(h>=c.length){break}var k=c[h++];this.emit("canceled",k)}this.options.uploadMultiple&&this.emit("canceledmultiple",f)}else{d.status!==b.ADDED&&d.status!==b.QUEUED||(d.status=b.CANCELED,this.emit("canceled",d),this.options.uploadMultiple&&this.emit("canceledmultiple",[d]))}if(this.options.autoProcessQueue){return this.processQueue()}}},{key:"resolveOption",value:function(c){if("function"==typeof c){for(var g=arguments.length,d=Array(g>1?g-1:0),f=1;f<g;f++){d[f-1]=arguments[f]}return c.apply(this,d)}return c}},{key:"uploadFile",value:function(c){return this.uploadFiles([c])}},{key:"uploadFiles",value:function(c){var d=this;this._transformFiles(c,function(g){if(c[0].upload.chunked){var i=c[0],h=g[0];i.upload.chunks=[];var e=function(){for(var p=0;void 0!==i.upload.chunks[p];){p++}if(!(p>=i.upload.totalChunkCount)){0;var m=p*d.options.chunkSize,q=Math.min(m+d.options.chunkSize,i.size),o={name:d._getParamName(0),data:h.webkitSlice?h.webkitSlice(m,q):h.slice(m,q),filename:i.upload.filename,chunkIndex:p};i.upload.chunks[p]={file:i,index:p,dataBlock:o,status:b.UPLOADING,progress:0,retries:0},d._uploadData(c,[o])}};if(i.upload.finishedChunkUpload=function(l){var m=!0;l.status=b.SUCCESS,l.dataBlock=null,l.xhr=null;for(var p=0;p<i.upload.totalChunkCount;p++){if(void 0===i.upload.chunks[p]){return e()}i.upload.chunks[p].status!==b.SUCCESS&&(m=!1)}m&&d.options.chunksUploaded(i,function(){d._finished(c,"",null)})},d.options.parallelChunkUploads){for(var j=0;j<i.upload.totalChunkCount;j++){e()}}else{e()}}else{for(var f=[],k=0;k<c.length;k++){f[k]={name:d._getParamName(k),data:g[k],filename:c[k].upload.filename}}d._uploadData(c,f)}})}},{key:"_getChunk",value:function(c,f){for(var d=0;d<c.upload.totalChunkCount;d++){if(void 0!==c.upload.chunks[d]&&c.upload.chunks[d].xhr===f){return c.upload.chunks[d]}}}},{key:"_uploadData",value:function(x,C){for(var G=this,J=new XMLHttpRequest,H=0,j=j=x;;){if(H>=j.length){break}j[H++].xhr=J}x[0].upload.chunked&&(x[0].upload.chunks[C[0].chunkIndex].xhr=J);var K=this.resolveOption(this.options.method,x),E=this.resolveOption(this.options.url,x);J.open(K,E,!0),J.timeout=this.resolveOption(this.options.timeout,x),J.withCredentials=!!this.options.withCredentials,J.onload=function(c){G._finishedUploading(x,J,c)},J.onerror=function(){G._handleUploadError(x,J)},(null!=J.upload?J.upload:J).onprogress=function(c){return G._updateFilesUploadProgress(x,J,c)};var L={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&b.extend(L,this.options.headers);for(var w in L){var t=L[w];t&&J.setRequestHeader(w,t)}var I=new FormData;if(this.options.params){var B=this.options.params;"function"==typeof B&&(B=B.call(this,x,J,x[0].upload.chunked?this._getChunk(x[0],J):null));for(var z in B){var F=B[z];I.append(z,F)}}for(var M=0,A=A=x;;){if(M>=A.length){break}var D=A[M++];this.emit("sending",D,J,I)}this.options.uploadMultiple&&this.emit("sendingmultiple",x,J,I),this._addFormElementData(I);for(var N=0;N<C.length;N++){var q=C[N];I.append(q.name,q.data,q.filename)}this.submitRequest(J,I,x)}},{key:"_transformFiles",value:function(d,k){for(var f=this,g=[],j=0,h=function(e){f.options.transformFile.call(f,d[e],function(l){g[e]=l,++j===d.length&&k(g)})},c=0;c<d.length;c++){h(c)}}},{key:"_addFormElementData",value:function(d){if("FORM"===this.element.tagName){for(var p=0,f=f=this.element.querySelectorAll("input, textarea, select, button");;){if(p>=f.length){break}var h=f[p++],k=h.getAttribute("name"),j=h.getAttribute("type");if(j&&(j=j.toLowerCase()),void 0!==k&&null!==k){if("SELECT"===h.tagName&&h.hasAttribute("multiple")){for(var c=0,m=m=h.options;;){if(c>=m.length){break}var g=m[c++];g.selected&&d.append(k,g.value)}}else{(!j||"checkbox"!==j&&"radio"!==j||h.checked)&&d.append(k,h.value)}}}}}},{key:"_updateFilesUploadProgress",value:function(x,L,C){var G=void 0;if(void 0!==C){if(G=100*C.loaded/C.total,x[0].upload.chunked){var J=x[0],H=this._getChunk(J,L);H.progress=G,H.total=C.total,H.bytesSent=C.loaded;J.upload.progress=0,J.upload.total=0,J.upload.bytesSent=0;for(var j=0;j<J.upload.totalChunkCount;j++){void 0!==J.upload.chunks[j]&&void 0!==J.upload.chunks[j].progress&&(J.upload.progress+=J.upload.chunks[j].progress,J.upload.total+=J.upload.chunks[j].total,J.upload.bytesSent+=J.upload.chunks[j].bytesSent)}J.upload.progress=J.upload.progress/J.upload.totalChunkCount}else{for(var K=0,E=E=x;;){if(K>=E.length){break}var M=E[K++];M.upload.progress=G,M.upload.total=C.total,M.upload.bytesSent=C.loaded}}for(var w=0,q=q=x;;){if(w>=q.length){break}var I=q[w++];this.emit("uploadprogress",I,I.upload.progress,I.upload.bytesSent)}}else{var B=!0;G=100;for(var z=0,F=F=x;;){if(z>=F.length){break}var N=F[z++];100===N.upload.progress&&N.upload.bytesSent===N.upload.total||(B=!1),N.upload.progress=G,N.upload.bytesSent=N.upload.total}if(B){return}for(var A=0,D=D=x;;){if(A>=D.length){break}var O=D[A++];this.emit("uploadprogress",O,G,O.upload.bytesSent)}}}},{key:"_finishedUploading",value:function(c,d,f){var g=void 0;if(c[0].status!==b.CANCELED&&4===d.readyState){if("arraybuffer"!==d.responseType&&"blob"!==d.responseType&&(g=d.responseText,d.getResponseHeader("content-type")&&~d.getResponseHeader("content-type").indexOf("application/json"))){try{g=JSON.parse(g)}catch(c){f=c,g="Invalid JSON response from server."}}this._updateFilesUploadProgress(c),200<=d.status&&d.status<300?c[0].upload.chunked?c[0].upload.finishedChunkUpload(this._getChunk(c[0],d)):this._finished(c,g,f):this._handleUploadError(c,d,g)}}},{key:"_handleUploadError",value:function(d,f,g){if(d[0].status!==b.CANCELED){if(d[0].upload.chunked&&this.options.retryChunks){var j=this._getChunk(d[0],f);if(j.retries++<this.options.retryChunksLimit){return void this._uploadData(d,[j.dataBlock])}console.warn("Retried this chunk too often. Giving up.")}for(var h=0,c=c=d;;){if(h>=c.length){break}c[h++];this._errorProcessing(d,g||this.options.dictResponseError.replace("{{statusCode}}",f.status),f)}}}},{key:"submitRequest",value:function(c,f,d){c.send(f)}},{key:"_finished",value:function(d,f,g){for(var j=0,h=h=d;;){if(j>=h.length){break}var c=h[j++];c.status=b.SUCCESS,this.emit("success",c,f,g),this.emit("complete",c)}if(this.options.uploadMultiple&&(this.emit("successmultiple",d,f,g),this.emit("completemultiple",d)),this.options.autoProcessQueue){return this.processQueue()}}},{key:"_errorProcessing",value:function(d,f,g){for(var j=0,h=h=d;;){if(j>=h.length){break}var c=h[j++];c.status=b.ERROR,this.emit("error",c,f,g),this.emit("complete",c)}if(this.options.uploadMultiple&&(this.emit("errormultiple",d,f,g),this.emit("completemultiple",d)),this.options.autoProcessQueue){return this.processQueue()}}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var d=16*Math.random()|0;return("x"===c?d:3&d|8).toString(16)})}}]),b}();Dropzone.initClass(),Dropzone.version="5.5.0",Dropzone.options={},Dropzone.optionsForElement=function(a){return a.getAttribute("id")?Dropzone.options[camelize(a.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0)){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return a.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var a=void 0;if(document.querySelectorAll){a=document.querySelectorAll(".dropzone")}else{a=[];var b=function(c){return function(){for(var d=[],e=0,g=g=c;;){if(e>=g.length){break}var f=g[e++];/(^| )dropzone($| )/.test(f.className)?d.push(a.push(f)):d.push(void 0)}return d}()};b(document.getElementsByTagName("div")),b(document.getElementsByTagName("form"))}return function(){for(var f=[],c=0,d=d=a;;){if(c>=d.length){break}var e=d[c++];!1!==Dropzone.optionsForElement(e)?f.push(new Dropzone(e)):f.push(void 0)}return f}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var a=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if("classList" in document.createElement("a")){for(var c=0,b=b=Dropzone.blacklistedBrowsers;;){if(c>=b.length){break}b[c++].test(navigator.userAgent)&&(a=!1)}}else{a=!1}}else{a=!1}return a},Dropzone.dataURItoBlob=function(c){for(var k=atob(c.split(",")[1]),d=c.split(",")[0].split(":")[1].split(";")[0],f=new ArrayBuffer(k.length),h=new Uint8Array(f),g=0,b=k.length,j=0<=b;j?g<=b:g>=b;j?g++:g--){h[g]=k.charCodeAt(g)}return new Blob([f],{type:d})};var without=function(a,b){return a.filter(function(c){return c!==b}).map(function(c){return c})},camelize=function(a){return a.replace(/[\-_](\w)/g,function(b){return b.charAt(1).toUpperCase()})};Dropzone.createElement=function(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes[0]},Dropzone.elementInside=function(a,b){if(a===b){return !0}for(;a=a.parentNode;){if(a===b){return !0}}return !1},Dropzone.getElement=function(a,c){var b=void 0;if("string"==typeof a?b=document.querySelector(a):null!=a.nodeType&&(b=a),null==b){throw new Error("Invalid `"+c+"` option provided. Please provide a CSS selector or a plain HTML element.")}return b},Dropzone.getElements=function(c,k){var d=void 0,f=void 0;if(c instanceof Array){f=[];try{for(var h=0,g=g=c;!(h>=g.length);){d=g[h++],f.push(this.getElement(d,k))}}catch(c){f=null}}else{if("string"==typeof c){f=[];for(var b=0,j=j=document.querySelectorAll(c);!(b>=j.length);){d=j[b++],f.push(d)}}else{null!=c.nodeType&&(f=[c])}}if(null==f||!f.length){throw new Error("Invalid `"+k+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return f},Dropzone.confirm=function(a,c,b){return window.confirm(a)?c():null!=b?b():void 0},Dropzone.isValidFile=function(c,j){if(!j){return !0}j=j.split(",");for(var d=c.type,f=d.replace(/\/.*$/,""),h=0,g=g=j;;){if(h>=g.length){break}var b=g[h++];if("."===(b=b.trim()).charAt(0)){if(-1!==c.name.toLowerCase().indexOf(b.toLowerCase(),c.name.length-b.length)){return !0}}else{if(/\/\*$/.test(b)){if(f===b.replace(/\/.*$/,"")){return !0}}else{if(d===b){return !0}}}}return !1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(a){return this.each(function(){return new Dropzone(this,a)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function(c){c.naturalWidth;var m=c.naturalHeight,d=document.createElement("canvas");d.width=1,d.height=m;var g=d.getContext("2d");g.drawImage(c,0,0);for(var j=g.getImageData(1,0,1,m).data,h=0,b=m,k=m;k>h;){0===j[4*(k-1)+3]?b=k:h=k,k=b+h>>1}var f=k/m;return 0===f?1:f},drawImageIOSFix=function(f,q,g,j,m,k,b,p,h,v){var c=detectVerticalSquash(q);return f.drawImage(q,g,j,m,k,b,p,h,v/c)},ExifRestore=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(c){for(var m="",d=void 0,g=void 0,j="",h=void 0,b=void 0,k=void 0,f="",p=0;h=(d=c[p++])>>2,b=(3&d)<<4|(g=c[p++])>>4,k=(15&g)<<2|(j=c[p++])>>6,f=63&j,isNaN(g)?k=f=64:isNaN(j)&&(f=64),m=m+this.KEY_STR.charAt(h)+this.KEY_STR.charAt(b)+this.KEY_STR.charAt(k)+this.KEY_STR.charAt(f),d=g=j="",h=b=k=f="",p<c.length;){}return m}},{key:"restore",value:function(b,g){if(!b.match("data:image/jpeg;base64,")){return g}var c=this.decode64(b.replace("data:image/jpeg;base64,","")),d=this.slice2Segments(c),f=this.exifManipulation(g,d);return"data:image/jpeg;base64,"+this.encode64(f)}},{key:"exifManipulation",value:function(b,f){var c=this.getExifArray(f),d=this.insertExif(b,c);return new Uint8Array(d)}},{key:"getExifArray",value:function(b){for(var d=void 0,c=0;c<b.length;){if(255===(d=b[c])[0]&225===d[1]){return d}c++}return[]}},{key:"insertExif",value:function(c,k){var d=c.replace("data:image/jpeg;base64,",""),f=this.decode64(d),h=f.indexOf(255,3),g=f.slice(0,h),b=f.slice(h),j=g;return j=(j=j.concat(k)).concat(b)}},{key:"slice2Segments",value:function(b){for(var g=0,c=[];;){if(255===b[g]&218===b[g+1]){break}if(255===b[g]&216===b[g+1]){g+=2}else{var d=g+(256*b[g+2]+b[g+3])+2,f=b.slice(g,d);c.push(f),g=d}if(g>b.length){break}}return c}},{key:"decode64",value:function(c){var m=void 0,d=void 0,g="",j=void 0,h=void 0,b="",k=0,f=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(c)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");m=this.KEY_STR.indexOf(c.charAt(k++))<<2|(j=this.KEY_STR.indexOf(c.charAt(k++)))>>4,d=(15&j)<<4|(h=this.KEY_STR.indexOf(c.charAt(k++)))>>2,g=(3&h)<<6|(b=this.KEY_STR.indexOf(c.charAt(k++))),f.push(m),64!==h&&f.push(d),64!==b&&f.push(g),m=d=g="",j=h=b="",k<c.length;){}return f}}]),a}();ExifRestore.initClass();var contentLoaded=function(c,m){var d=!1,g=!0,j=c.document,h=j.documentElement,b=j.addEventListener?"addEventListener":"attachEvent",k=j.addEventListener?"removeEventListener":"detachEvent",f=j.addEventListener?"":"on",p=function g(a){if("readystatechange"!==a.type||"complete"===j.readyState){return("load"===a.type?c:j)[k](f+a.type,g,!1),!d&&(d=!0)?m.call(c,a.type||a):void 0}};if("complete"!==j.readyState){if(j.createEventObject&&h.doScroll){try{g=!c.frameElement}catch(c){}g&&function c(){try{h.doScroll("left")}catch(a){return void setTimeout(c,50)}return p("poll")}()}return j[b](f+"DOMContentLoaded",p,!1),j[b](f+"readystatechange",p,!1),c[b](f+"load",p,!1)}};function __guard__(a,b){return void 0!==a&&null!==a?b(a):void 0}function __guardMethod__(a,c,b){return void 0!==a&&null!==a&&"function"==typeof a[c]?b(a,c):void 0}Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover()}},contentLoaded(window,Dropzone._autoDiscoverFunction);